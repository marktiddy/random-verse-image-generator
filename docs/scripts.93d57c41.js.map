{"version":3,"sources":["node_modules/html-to-image/lib/utils.js","node_modules/html-to-image/lib/clonePseudoElements.js","node_modules/html-to-image/lib/cloneNode.js","node_modules/html-to-image/lib/getBlobFromURL.js","node_modules/html-to-image/lib/embedResources.js","node_modules/html-to-image/lib/embedWebFonts.js","node_modules/html-to-image/lib/embedImages.js","node_modules/html-to-image/lib/createSvgDataURL.js","node_modules/html-to-image/lib/applyStyleWithOptions.js","node_modules/html-to-image/lib/index.js","node_modules/downloadjs/download.js","scripts.js"],"names":["getBgImage","randomNum","Math","floor","random","bgElement","document","getElementById","style","backgroundImage","toggleTextColor","buttonPressed","quoteText","classList","add","remove","loadVerse","url","apiResult","$","ajax","crossDomain","dataType","success","result","then","quote","verse","text","replace","innerHTML","bookname","chapter","innerText","saveImage","node","htmlToImage","toPng","dataUrl","catch","error","ready","click"],"mappings":";AAAA,aACA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IACA,IAAA,EAAA,wBACA,EAAA,aACA,EAAA,CACA,KAAA,EACA,MAAA,EACA,IAAA,4BACA,IAAA,gCACA,IAAA,YACA,IAAA,EACA,KAAA,EACA,IAAA,YACA,KAAA,aACA,IAAA,iBAeA,SAAA,EAAA,GACA,IAAA,EAAA,gBAAA,KAAA,GACA,OAAA,EACA,EAAA,GACA,GAGA,SAAA,EAAA,GACA,IAAA,EAAA,EAAA,GAAA,cACA,OAAA,EAAA,IAAA,GAGA,SAAA,EAAA,GACA,OAAA,SAAA,GAAA,OAAA,IAAA,QAAA,SAAA,GACA,WAAA,WACA,EAAA,IACA,MAIA,SAAA,EAAA,GACA,OAAA,IAAA,QAAA,SAAA,EAAA,GACA,IAAA,EAAA,IAAA,MACA,EAAA,OAAA,WACA,EAAA,IAEA,EAAA,QAAA,EACA,EAAA,YAAA,YACA,EAAA,IAAA,IAIA,SAAA,EAAA,GACA,OAAA,IAAA,EAAA,OAAA,YAGA,SAAA,EAAA,EAAA,GACA,MAAA,QAAA,EAAA,WAAA,EAGA,SAAA,EAAA,GACA,OAAA,EAAA,MAAA,KAAA,GAGA,SAAA,EAAA,GACA,OAAA,IAAA,QAAA,SAAA,GAIA,IAHA,IAAA,EAAA,OAAA,KAAA,EAAA,YAAA,MAAA,KAAA,IACA,EAAA,EAAA,OACA,EAAA,IAAA,WAAA,GACA,EAAA,EAAA,EAAA,EAAA,GAAA,EACA,EAAA,GAAA,EAAA,WAAA,GAEA,EAAA,IAAA,KAAA,CAAA,GAAA,CACA,KAAA,iBAIA,SAAA,EAAA,GACA,OAAA,EAAA,OACA,IAAA,QAAA,SAAA,GACA,EAAA,OAAA,KAGA,EAAA,GAGA,SAAA,EAAA,GAEA,IADA,IAAA,EAAA,GACA,EAAA,EAAA,EAAA,EAAA,OAAA,EAAA,EAAA,GAAA,EACA,EAAA,KAAA,EAAA,IAEA,OAAA,EAGA,SAAA,EAAA,EAAA,GACA,IAAA,EAAA,OAAA,iBAAA,GAAA,iBAAA,GACA,OAAA,WAAA,EAAA,QAAA,KAAA,KAEA,SAAA,EAAA,GACA,IAAA,EAAA,EAAA,EAAA,qBACA,EAAA,EAAA,EAAA,sBACA,OAAA,EAAA,YAAA,EAAA,EAGA,SAAA,EAAA,GACA,IAAA,EAAA,EAAA,EAAA,oBACA,EAAA,EAAA,EAAA,uBACA,OAAA,EAAA,aAAA,EAAA,EAGA,SAAA,IACA,OAAA,OAAA,kBAAA,EAGA,SAAA,EAAA,GACA,OAAA,QAAA,UACA,KAAA,WAAA,OAAA,IAAA,eAAA,kBAAA,KACA,KAAA,oBACA,KAAA,SAAA,GAAA,MAAA,oCAAA,IAGA,SAAA,EAAA,GACA,OAAA,EAAA,GAAA,KAAA,SAAA,GACA,IAAA,EAAA,EAAA,MAAA,EAAA,EAAA,OACA,EAAA,SAAA,cAAA,UACA,EAAA,EAAA,WAAA,MACA,EAAA,IAQA,OAPA,EAAA,MAAA,EAAA,EACA,EAAA,OAAA,EAAA,EACA,EAAA,MAAA,MAAA,GAAA,EACA,EAAA,MAAA,OAAA,GAAA,EACA,EAAA,MAAA,EAAA,GACA,EAAA,UAAA,EAAA,EAAA,GAEA,EADA,EAAA,UAAA,EAAA,OA9HA,QAAA,KAAA,WAGA,IAAA,EAAA,EAKA,OAAA,WAEA,OADA,GAAA,EACA,KAJA,QAAA,KAAA,SAAA,KAAA,IAAA,GAAA,IAAA,GAAA,SAAA,KAAA,OAAA,GAIA,GAVA,GAmBA,QAAA,eAAA,EAKA,QAAA,YAAA,EAQA,QAAA,MAAA,EAYA,QAAA,YAAA,EAIA,QAAA,UAAA,EAIA,QAAA,UAAA,EAIA,QAAA,kBAAA,EAsBA,QAAA,aAAA,EAQA,QAAA,QAAA,EAUA,QAAA,aAAA,EAMA,QAAA,cAAA,EAIA,QAAA,cAAA,EAOA,QAAA,aAAA,EAiBA,QAAA,oBAAA;;AClJA,aACA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IACA,IAAA,EAAA,QAAA,WACA,SAAA,EAAA,GACA,IAAA,EAAA,EAAA,iBAAA,WACA,OAAA,EAAA,QAAA,aAAA,EAAA,IAEA,SAAA,EAAA,GACA,OAAA,EAAA,QAAA,GAAA,IAAA,SAAA,GAGA,OAAA,EAAA,KAFA,EAAA,iBAAA,IACA,EAAA,oBAAA,GACA,cAAA,IAAA,MACA,KAAA,KAEA,SAAA,EAAA,EAAA,EAAA,GACA,IAAA,EAAA,IAAA,EAAA,IAAA,EACA,EAAA,EAAA,QAAA,EAAA,GAAA,EAAA,GACA,OAAA,SAAA,eAAA,EAAA,IAAA,EAAA,KAEA,SAAA,EAAA,EAAA,EAAA,GACA,IAAA,EAAA,OAAA,iBAAA,EAAA,GACA,EAAA,EAAA,iBAAA,WACA,GAAA,KAAA,GAAA,SAAA,EAAA,CAGA,IAAA,EAAA,EAAA,OACA,EAAA,SAAA,cAAA,SACA,EAAA,YAAA,EAAA,EAAA,EAAA,IACA,EAAA,UAAA,EAAA,UAAA,IAAA,EACA,EAAA,YAAA,IAEA,SAAA,EAAA,EAAA,GACA,CACA,UACA,UACA,QAAA,SAAA,GAAA,OAAA,EAAA,EAAA,EAAA,KAEA,QAAA,QAAA;;ACrCA,aACA,IAAA,EAAA,MAAA,KAAA,iBAAA,SAAA,GACA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,IAEA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IACA,IAAA,EAAA,QAAA,WACA,EAAA,EAAA,QAAA,0BACA,SAAA,EAAA,GACA,OAAA,aAAA,kBACA,EAAA,YAAA,EAAA,aAEA,EAAA,SAAA,QAAA,EAAA,QAAA,cACA,QAAA,QAAA,GACA,KAAA,SAAA,GAAA,OAAA,EAAA,aAAA,KACA,KAAA,EAAA,aAEA,QAAA,QAAA,EAAA,WAAA,IAEA,SAAA,EAAA,EAAA,EAAA,GACA,IAAA,EAAA,EAAA,QAAA,EAAA,YACA,OAAA,IAAA,EAAA,OACA,QAAA,QAAA,GAGA,EAAA,OAAA,SAAA,EAAA,GAAA,OAAA,EACA,KAAA,WAAA,OAAA,EAAA,EAAA,KACA,KAAA,SAAA,GACA,GACA,EAAA,YAAA,MAEA,QAAA,WACA,KAAA,WAAA,OAAA,IAEA,SAAA,EAAA,EAAA,GACA,IAAA,EAAA,OAAA,iBAAA,GACA,EAAA,EAAA,MACA,EAAA,QACA,EAAA,QAAA,EAAA,QAGA,EAAA,QAAA,GAAA,QAAA,SAAA,GACA,EAAA,YAAA,EAAA,EAAA,iBAAA,GAAA,EAAA,oBAAA,MAIA,SAAA,EAAA,EAAA,GACA,aAAA,sBACA,EAAA,UAAA,EAAA,OAEA,aAAA,kBACA,EAAA,aAAA,QAAA,EAAA,OAGA,SAAA,EAAA,EAAA,GACA,OAAA,aAAA,QAGA,QAAA,UACA,KAAA,WAAA,OAAA,EAAA,EAAA,KACA,KAAA,WAAA,OAAA,EAAA,QAAA,EAAA,KACA,KAAA,WAAA,OAAA,EAAA,EAAA,KACA,KAAA,WAAA,OAAA,IANA,EAQA,SAAA,EAAA,EAAA,EAAA,GACA,OAAA,IAAA,GAAA,EAAA,GAGA,QAAA,QAAA,GACA,KAAA,GACA,KAAA,SAAA,GAAA,OAAA,EAAA,EAAA,EAAA,KACA,KAAA,SAAA,GAAA,OAAA,EAAA,EAAA,KALA,QAAA,QAAA,MAOA,QAAA,QAAA;;ACxEA,aAEA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IACA,IAAA,EAAA,QAAA,WAKA,EAAA,IACA,SAAA,EAAA,EAAA,GAGA,EAAA,YACA,IAAA,KAAA,KAAA,GAAA,IAAA,MAAA,IAAA,MAAA,WA4DA,OAzCA,OAAA,MAEA,OAAA,MAAA,GACA,KAAA,SAAA,GAAA,OAAA,EAAA,SACA,KAAA,SAAA,GAAA,OAAA,IAAA,QAAA,SAAA,EAAA,GACA,IAAA,EAAA,IAAA,WACA,EAAA,UAAA,WAAA,OAAA,EAAA,EAAA,SACA,EAAA,QAAA,EACA,EAAA,cAAA,OAEA,KAAA,EAAA,mBACA,MAAA,WAAA,OAAA,IAAA,QAAA,SAAA,EAAA,GACA,QAGA,IAAA,QAAA,SAAA,EAAA,GACA,IAAA,EAAA,IAAA,eAkBA,EAAA,mBAdA,WACA,GAAA,IAAA,EAAA,WAGA,GAAA,MAAA,EAAA,OAAA,CAIA,IAAA,EAAA,IAAA,WACA,EAAA,UAAA,WACA,EAAA,EAAA,kBAAA,EAAA,UAEA,EAAA,cAAA,EAAA,eAPA,EAAA,IAAA,MAAA,6BAAA,EAAA,aAAA,EAAA,UAUA,EAAA,UAlBA,WACA,EAAA,IAAA,MAAA,cAAA,EAAA,uCAAA,KAkBA,EAAA,aAAA,OACA,EAAA,QAAA,EACA,EAAA,KAAA,MAAA,GAAA,GACA,EAAA,UAEA,MA1DA,SAAA,GACA,IAAA,EAAA,GACA,GAAA,EAAA,iBAAA,CACA,IAAA,EAAA,EAAA,iBAAA,MAAA,KACA,GAAA,EAAA,KACA,EAAA,EAAA,IAGA,IAAA,EAAA,6BAAA,EAOA,OANA,IACA,EAAA,iBAAA,EAAA,EAAA,EAAA,SAEA,GACA,QAAA,MAAA,GAEA,IA6CA,QAAA,QAAA;;AC3EA,aACA,IAAA,EAAA,MAAA,KAAA,iBAAA,SAAA,GACA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,IAEA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IACA,IAAA,EAAA,EAAA,QAAA,qBACA,EAAA,QAAA,WACA,EAAA,6BACA,SAAA,EAAA,EAAA,GAEA,GAAA,EAAA,MAAA,iBACA,OAAA,EAGA,GAAA,EAAA,MAAA,SACA,OAAA,OAAA,SAAA,SAAA,EAGA,GAAA,EAAA,MAAA,aACA,OAAA,EAEA,IAAA,EAAA,SAAA,eAAA,qBACA,EAAA,EAAA,cAAA,QACA,EAAA,EAAA,cAAA,KAOA,OANA,EAAA,KAAA,YAAA,GACA,EAAA,KAAA,YAAA,GACA,IACA,EAAA,KAAA,GAEA,EAAA,KAAA,EACA,EAAA,KAEA,SAAA,EAAA,GACA,OAAA,EAAA,QAAA,2BAAA,QAEA,SAAA,EAAA,GACA,OAAA,IAAA,OAAA,kBAAA,EAAA,GAAA,eAAA,KAEA,SAAA,EAAA,GACA,IAAA,EAAA,GAKA,OAJA,EAAA,QAAA,EAAA,SAAA,EAAA,EAAA,GAEA,OADA,EAAA,KAAA,GACA,IAEA,EAAA,OAAA,SAAA,GAAA,OAAA,EAAA,UAAA,KAEA,SAAA,EAAA,EAAA,EAAA,EAAA,GACA,IAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EACA,OAAA,QAAA,QAAA,GACA,KAAA,SAAA,GAAA,OAAA,EAAA,QAAA,EAAA,KACA,KAAA,SAAA,GAAA,OAAA,EAAA,UAAA,EAAA,EAAA,YAAA,MACA,KAAA,SAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,KAAA,EAAA,QACA,KAAA,SAAA,GAAA,OAAA,GAAA,WAAA,OAAA,IAEA,SAAA,EAAA,GACA,OAAA,IAAA,EAAA,OAAA,GAGA,SAAA,EAAA,EAAA,EAAA,GACA,OAAA,EAAA,GAGA,QAAA,QAAA,GACA,KAAA,GACA,KAAA,SAAA,GAAA,OAAA,EAAA,OAAA,SAAA,EAAA,GAAA,OAAA,EAAA,KAAA,SAAA,GAAA,OAAA,EAAA,EAAA,EAAA,EAAA,MAAA,QAAA,QAAA,MAJA,QAAA,QAAA,GAHA,QAAA,YAAA,EASA,QAAA,QAAA;;AClEA,aACA,IAAA,EAAA,MAAA,KAAA,cAAA,SAAA,GACA,GAAA,GAAA,EAAA,WAAA,OAAA,EACA,IAAA,EAAA,GACA,GAAA,MAAA,EAAA,IAAA,IAAA,KAAA,EAAA,OAAA,eAAA,KAAA,EAAA,KAAA,EAAA,GAAA,EAAA,IAEA,OADA,EAAA,QAAA,EACA,GAEA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IACA,IAAA,EAAA,QAAA,WACA,EAAA,EAAA,QAAA,qBACA,SAAA,EAAA,GACA,QAAA,IAAA,EACA,MAAA,GAEA,IAAA,EAAA,EACA,EAAA,GAIA,EAAA,IAAA,OAAA,2BAAA,MAEA,EAAA,EAAA,QAAA,EAAA,IAGA,IAFA,IACA,EADA,EAAA,IAAA,OANA,mDAMA,MAIA,QADA,EAAA,EAAA,KAAA,KAIA,EAAA,KAAA,EAAA,IAEA,EAAA,EAAA,QAAA,EAAA,IAGA,IADA,IAAA,EAAA,IAAA,OAhBA,6GAgBA,MAGA,QADA,EAAA,EAAA,KAAA,KAIA,EAAA,KAAA,EAAA,IAEA,OAAA,EAEA,SAAA,EAAA,EAAA,GACA,OAAA,MAAA,GAAA,KAAA,SAAA,GACA,MAAA,CACA,IAAA,EACA,QAAA,EAAA,SAEA,SAAA,GACA,QAAA,IAAA,uBAAA,EAAA,cAGA,SAAA,EAAA,GACA,OAAA,EAAA,QAAA,KAAA,SAAA,GACA,IAAA,EAAA,EAEA,GADA,EAAA,MAAA,kBAAA,IACA,IAAA,SAAA,GACA,IAAA,EAAA,EAAA,QAAA,iBAAA,MACA,IAAA,EAAA,WAAA,YAAA,CACA,IAAA,EAAA,EAAA,IACA,EAAA,IAAA,IAAA,EAAA,GAAA,KAEA,OAAA,IAAA,QAAA,SAAA,EAAA,GACA,MAAA,GACA,KAAA,SAAA,GAAA,OAAA,EAAA,SACA,KAAA,SAAA,GACA,IAAA,EAAA,IAAA,WACA,EAAA,iBAAA,OAAA,SAAA,GAEA,EAAA,EAAA,QAAA,EAAA,OAAA,EAAA,OAAA,KACA,EAAA,CAAA,EAAA,EAAA,WAEA,EAAA,cAAA,KAEA,MAAA,OAGA,OAAA,QAAA,IAAA,GAAA,KAAA,WAAA,OAAA,MAGA,SAAA,EAAA,GACA,IAAA,EAAA,GACA,EAAA,GAwCA,OAtCA,EAAA,QAAA,SAAA,GACA,GAAA,aAAA,EACA,IACA,EAAA,QAAA,EAAA,UAAA,QAAA,SAAA,GACA,EAAA,OAAA,QAAA,aACA,EAAA,KAAA,EAAA,EAAA,KAAA,GACA,KAAA,GACA,KAAA,SAAA,GACA,EAAA,GACA,QAAA,SAAA,GACA,EAAA,WAAA,EAAA,EAAA,SAAA,YAGA,MAAA,SAAA,GACA,QAAA,IAAA,2BAAA,EAAA,iBAKA,MAAA,GACA,IAAA,EAAA,EAAA,KAAA,SAAA,GAAA,OAAA,OAAA,EAAA,QAAA,SAAA,YAAA,GACA,MAAA,EAAA,MACA,EAAA,KAAA,EAAA,EAAA,KAAA,GACA,KAAA,GACA,KAAA,SAAA,GACA,EAAA,GACA,QAAA,SAAA,GACA,EAAA,WAAA,EAAA,EAAA,SAAA,YAGA,MAAA,SAAA,GACA,QAAA,IAAA,kCAAA,EAAA,eAGA,QAAA,IAAA,iCAAA,EAAA,eAIA,QACA,IAAA,GACA,KAAA,WAcA,OAZA,EAAA,QAAA,SAAA,GACA,GAAA,aAAA,EACA,IACA,EAAA,QAAA,EAAA,UAAA,QAAA,SAAA,GACA,EAAA,KAAA,KAGA,MAAA,GACA,QAAA,IAAA,sCAAA,EAAA,KAAA,EAAA,eAIA,IAGA,SAAA,EAAA,GACA,OAAA,EACA,OAAA,SAAA,GAAA,OAAA,EAAA,OAAA,QAAA,iBACA,OAAA,SAAA,GAAA,OAAA,EAAA,YAAA,EAAA,MAAA,iBAAA,UAEA,SAAA,EAAA,GACA,OAAA,IAAA,QAAA,SAAA,EAAA,GACA,EAAA,eACA,EAAA,IAAA,MAAA,8CAEA,EAAA,EAAA,QAAA,EAAA,cAAA,gBAEA,KAAA,GACA,KAAA,GAGA,SAAA,EAAA,EAAA,GACA,OAAA,EAAA,GACA,KAAA,SAAA,GAAA,OAAA,QAAA,IAAA,EAAA,IAAA,SAAA,GACA,IAAA,EAAA,EAAA,iBAAA,EAAA,iBAAA,KAAA,KACA,OAAA,EAAA,QAAA,EAAA,QAAA,EAAA,QAEA,KAAA,SAAA,GAAA,OAAA,EAAA,KAAA,QACA,KAAA,SAAA,GACA,IAAA,EAAA,SAAA,cAAA,SACA,EAAA,SAAA,eAAA,GAQA,OAPA,EAAA,YAAA,GACA,EAAA,WACA,EAAA,aAAA,EAAA,EAAA,YAGA,EAAA,YAAA,GAEA,IAlBA,QAAA,kBAAA,EAqBA,QAAA,QAAA;;ACnLA,aACA,IAAA,EAAA,MAAA,KAAA,iBAAA,SAAA,GACA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,IAEA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IACA,IAAA,EAAA,QAAA,WACA,EAAA,EAAA,QAAA,qBACA,EAAA,EAAA,QAAA,qBACA,SAAA,EAAA,EAAA,GACA,IAAA,EAAA,EAAA,MAAA,iBAAA,cACA,OAAA,EAGA,QAAA,QAAA,GACA,KAAA,SAAA,GAAA,OAAA,EAAA,QAAA,EAAA,KAAA,KACA,KAAA,SAAA,GAEA,OADA,EAAA,MAAA,YAAA,aAAA,EAAA,EAAA,MAAA,oBAAA,eACA,IANA,QAAA,QAAA,GASA,SAAA,EAAA,EAAA,GACA,OAAA,aAAA,mBAAA,EAAA,UAAA,EAAA,KAGA,QAAA,QAAA,EAAA,KACA,KAAA,SAAA,GAAA,OAAA,EAAA,QAAA,EAAA,KACA,KAAA,SAAA,GAAA,OAAA,EAAA,UAAA,EAAA,EAAA,YAAA,EAAA,QACA,KAAA,SAAA,GAAA,OAAA,IAAA,QAAA,SAAA,EAAA,GACA,EAAA,OAAA,EACA,EAAA,QAAA,EACA,EAAA,IAAA,MAEA,KAAA,WAAA,OAAA,GAAA,WAAA,OAAA,IAVA,QAAA,QAAA,GAYA,SAAA,EAAA,EAAA,GACA,IACA,EADA,EAAA,QAAA,EAAA,YACA,IAAA,SAAA,GAAA,OAAA,EAAA,EAAA,KACA,OAAA,QAAA,IAAA,GAAA,KAAA,WAAA,OAAA,IAEA,SAAA,EAAA,EAAA,GACA,OAAA,aAAA,QAGA,QAAA,QAAA,GACA,KAAA,SAAA,GAAA,OAAA,EAAA,EAAA,KACA,KAAA,SAAA,GAAA,OAAA,EAAA,EAAA,KACA,KAAA,SAAA,GAAA,OAAA,EAAA,EAAA,KALA,QAAA,QAAA,GAOA,QAAA,QAAA;;AChDA,aACA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IACA,IAAA,EAAA,QAAA,WACA,SAAA,EAAA,EAAA,EAAA,GACA,IAAA,EAAA,6BACA,EAAA,SAAA,gBAAA,EAAA,OACA,EAAA,SAAA,gBAAA,EAAA,iBAUA,OATA,EAAA,eAAA,GAAA,QAAA,GAAA,GACA,EAAA,eAAA,GAAA,SAAA,GAAA,GACA,EAAA,eAAA,GAAA,QAAA,QACA,EAAA,eAAA,GAAA,SAAA,QACA,EAAA,eAAA,GAAA,IAAA,KACA,EAAA,eAAA,GAAA,IAAA,KACA,EAAA,eAAA,GAAA,4BAAA,QACA,EAAA,YAAA,GACA,EAAA,YAAA,GACA,EAAA,aAAA,GAEA,QAAA,QAAA;;AClBA,aAEA,SAAA,EAAA,EAAA,GACA,IAAA,EAAA,EAAA,MAaA,OAZA,EAAA,kBACA,EAAA,gBAAA,EAAA,iBAEA,EAAA,QACA,EAAA,MAAA,EAAA,MAAA,MAEA,EAAA,SACA,EAAA,OAAA,EAAA,OAAA,MAEA,EAAA,OACA,OAAA,OAAA,EAAA,EAAA,OAEA,EAfA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAiBA,QAAA,QAAA;;AClBA,aACA,IAAA,EAAA,MAAA,KAAA,iBAAA,SAAA,GACA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,IAEA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IACA,IAAA,EAAA,EAAA,QAAA,gBACA,EAAA,EAAA,QAAA,oBACA,EAAA,EAAA,QAAA,kBACA,EAAA,EAAA,QAAA,uBACA,EAAA,EAAA,QAAA,4BACA,EAAA,QAAA,WACA,SAAA,EAAA,EAAA,GAIA,YAHA,IAAA,IAAA,EAAA,IAGA,CAAA,MAFA,EAAA,OAAA,EAAA,aAAA,GAEA,OADA,EAAA,QAAA,EAAA,cAAA,IAGA,SAAA,EAAA,EAAA,QACA,IAAA,IAAA,EAAA,IACA,IAAA,EAAA,EAAA,EAAA,GAAA,EAAA,EAAA,MAAA,EAAA,EAAA,OACA,OAAA,EAAA,QAAA,EAAA,EAAA,QAAA,GACA,KAAA,SAAA,GAAA,OAAA,EAAA,QAAA,EAAA,KACA,KAAA,SAAA,GAAA,OAAA,EAAA,QAAA,EAAA,KACA,KAAA,SAAA,GAAA,OAAA,EAAA,QAAA,EAAA,KACA,KAAA,SAAA,GAAA,OAAA,EAAA,QAAA,EAAA,EAAA,KAGA,SAAA,EAAA,EAAA,GAEA,YADA,IAAA,IAAA,EAAA,IACA,EAAA,EAAA,GACA,KAAA,EAAA,aACA,KAAA,EAAA,MAAA,MACA,KAAA,SAAA,GACA,IAAA,EAAA,SAAA,cAAA,UACA,EAAA,EAAA,WAAA,MACA,EAAA,EAAA,gBACA,EAAA,EAAA,EAAA,GAAA,EAAA,EAAA,MAAA,EAAA,EAAA,OAWA,OAVA,EAAA,MAAA,EAAA,EACA,EAAA,OAAA,EAAA,EACA,EAAA,MAAA,MAAA,GAAA,EACA,EAAA,MAAA,OAAA,GAAA,EACA,EAAA,MAAA,EAAA,GACA,EAAA,kBACA,EAAA,UAAA,EAAA,gBACA,EAAA,SAAA,EAAA,EAAA,EAAA,MAAA,EAAA,SAEA,EAAA,UAAA,EAAA,EAAA,GACA,IAIA,SAAA,EAAA,EAAA,QACA,IAAA,IAAA,EAAA,IACA,IAAA,EAAA,EAAA,EAAA,GAAA,EAAA,EAAA,MAAA,EAAA,EAAA,OACA,OAAA,EAAA,EAAA,GACA,KAAA,SAAA,GAAA,OAAA,EAAA,WAAA,MAAA,aAAA,EAAA,EAAA,EAAA,GAAA,OAGA,SAAA,EAAA,EAAA,GAEA,YADA,IAAA,IAAA,EAAA,IACA,EAAA,EAAA,GAAA,KAAA,SAAA,GAAA,OAAA,EAAA,cAGA,SAAA,EAAA,EAAA,GAEA,YADA,IAAA,IAAA,EAAA,IACA,EAAA,EAAA,GAAA,KAAA,SAAA,GAAA,OAAA,EAAA,UAAA,aAAA,EAAA,SAAA,KAGA,SAAA,EAAA,EAAA,GAEA,YADA,IAAA,IAAA,EAAA,IACA,EAAA,EAAA,GAAA,KAAA,EAAA,cA5CA,QAAA,aAAA,EAwBA,QAAA,SAAA,EAOA,QAAA,YAAA,EAKA,QAAA,MAAA,EAKA,QAAA,OAAA,EAKA,QAAA,OAAA,EACA,QAAA,QAAA,CACA,aAAA,EACA,SAAA,EACA,YAAA,EACA,MAAA,EACA,OAAA,EACA,OAAA;;;ACwFA,IAAA,GA9JA,SAAA,EAAA,GACA,mBAAA,GAAA,EAAA,IAEA,EAAA,GAAA,GACA,iBAAA,QAIA,OAAA,QAAA,IAGA,EAAA,SAAA,IAXA,CAaA,KAAA,WAEA,OAAA,SAAA,EAAA,EAAA,EAAA,GAEA,IASA,EACA,EAVA,EAAA,OACA,EAAA,2BACA,EAAA,GAAA,EACA,EAAA,EACA,GAAA,IAAA,GAAA,EACA,EAAA,SAAA,cAAA,KACA,EAAA,SAAA,GAAA,OAAA,OAAA,IACA,EAAA,EAAA,MAAA,EAAA,SAAA,EAAA,YAAA,EACA,EAAA,GAAA,WAYA,GATA,EAAA,EAAA,KAAA,EAAA,KAAA,GAAA,KAEA,SAAA,OAAA,QAEA,GADA,EAAA,CAAA,EAAA,IACA,GACA,EAAA,EAAA,IAIA,GAAA,EAAA,OAAA,OACA,EAAA,EAAA,MAAA,KAAA,MAAA,MAAA,KAAA,GACA,EAAA,KAAA,GACA,IAAA,EAAA,KAAA,QAAA,IAAA,CACA,IAAA,EAAA,IAAA,eAOA,OANA,EAAA,KAAA,MAAA,GAAA,GACA,EAAA,aAAA,OACA,EAAA,OAAA,SAAA,GACA,EAAA,EAAA,OAAA,SAAA,EAAA,IAEA,WAAA,WAAA,EAAA,QAAA,GACA,EAMA,GAAA,iCAAA,KAAA,GAAA,CAEA,KAAA,EAAA,OAAA,aAAA,IAAA,GAIA,OAAA,UAAA,WACA,UAAA,WAAA,EAAA,GAAA,GACA,EAAA,GAJA,GADA,EAAA,EAAA,IACA,MAAA,OAQA,GAAA,gBAAA,KAAA,GAAA,CAEA,IADA,IAAA,EAAA,EAAA,EAAA,IAAA,WAAA,EAAA,QAAA,EAAA,EAAA,OACA,EAAA,IAAA,EAAA,EAAA,GAAA,EAAA,WAAA,GACA,EAAA,IAAA,EAAA,CAAA,GAAA,CAAA,KAAA,IAQA,SAAA,EAAA,GASA,IARA,IAAA,EAAA,EAAA,MAAA,SACA,EAAA,EAAA,GAEA,GADA,UAAA,EAAA,GAAA,KAAA,oBACA,EAAA,OACA,EAAA,EAAA,OACA,EAAA,EACA,EAAA,IAAA,WAAA,GAEA,EAAA,IAAA,EAAA,EAAA,GAAA,EAAA,WAAA,GAEA,OAAA,IAAA,EAAA,CAAA,GAAA,CAAA,KAAA,IAGA,SAAA,EAAA,EAAA,GAEA,GAAA,aAAA,EAYA,OAXA,EAAA,KAAA,EACA,EAAA,aAAA,WAAA,GACA,EAAA,UAAA,mBACA,EAAA,UAAA,iBACA,EAAA,MAAA,QAAA,OACA,SAAA,KAAA,YAAA,GACA,WAAA,WACA,EAAA,QACA,SAAA,KAAA,YAAA,IACA,IAAA,GAAA,WAAA,WAAA,EAAA,IAAA,gBAAA,EAAA,OAAA,MACA,KACA,EAIA,GAAA,gDAAA,KAAA,UAAA,WAKA,MAJA,SAAA,KAAA,KAAA,EAAA,QAAA,EAAA,QAAA,sBAAA,IACA,OAAA,KAAA,IACA,QAAA,oGAAA,SAAA,KAAA,IAEA,EAIA,IAAA,EAAA,SAAA,cAAA,UACA,SAAA,KAAA,YAAA,IAEA,GAAA,SAAA,KAAA,KACA,EAAA,QAAA,EAAA,QAAA,sBAAA,IAEA,EAAA,IAAA,EACA,WAAA,WAAA,SAAA,KAAA,YAAA,IAAA,KAOA,GA5DA,EAAA,aAAA,EACA,EACA,IAAA,EAAA,CAAA,GAAA,CAAA,KAAA,IA0DA,UAAA,WACA,OAAA,UAAA,WAAA,EAAA,GAGA,GAAA,EAAA,IACA,EAAA,EAAA,IAAA,gBAAA,IAAA,OACA,CAEA,GAAA,iBAAA,GAAA,EAAA,cAAA,EACA,IACA,OAAA,EAAA,QAAA,EAAA,WAAA,EAAA,KAAA,IACA,MAAA,GACA,OAAA,EAAA,QAAA,EAAA,IAAA,mBAAA,KAKA,EAAA,IAAA,YACA,OAAA,SAAA,GACA,EAAA,KAAA,SAEA,EAAA,cAAA,GAEA,OAAA;;ACvEA,aA7FA,IAAA,EAAA,EAAA,QAAA,kBACA,EAAA,EAAA,QAAA,eA4FA,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAAA,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EA3FA,IAAMA,EAAa,WAEbC,IAAAA,EAAYC,KAAKC,MAAsB,GAAhBD,KAAKE,UAE1BC,EAAYC,SAASC,eAAe,mBAC1CF,EAAUG,MAAMC,gBAAkB,GAElCJ,EAAUG,MAAMC,gBAAmGR,iFAAAA,OAAAA,EAAnH,WAGIS,EAAkB,SAACC,GACjBC,IAAAA,EAAYN,SAASC,eAAe,cACpB,UAAlBI,GACFC,EAAUC,UAAUC,IAAI,eACxBF,EAAUC,UAAUE,OAAO,eAC3BH,EAAUC,UAAUE,OAAO,eACA,UAAlBJ,GACTC,EAAUC,UAAUC,IAAI,eACxBF,EAAUC,UAAUE,OAAO,eAC3BH,EAAUC,UAAUE,OAAO,gBAE3BH,EAAUC,UAAUC,IAAI,cACxBF,EAAUC,UAAUE,OAAO,eAC3BH,EAAUC,UAAUE,OAAO,iBAIzBC,EAAY,WACVC,IACFC,EACJC,EAAEC,KAAK,CACLH,IACE,2EACFI,aAAa,EACbC,SAAU,QACVC,QAAS,SAAUC,GACjBN,EAAYM,EAAO,MAEpBC,KAAK,WACAC,IAAAA,EAAQpB,SAASC,eAAe,cAKhCoB,EAAQT,EAAUU,KAAKC,QAD3B,yFACyC,IACvCX,EACFQ,EAAMI,UACJ,IAAIH,OAAAA,EAC6BT,KAAAA,iCAAAA,OAAAA,EAAUa,SAAYb,KAAAA,OAAAA,EAAUc,QAAWd,KAAAA,OAAAA,EAAUS,MAFxF,WAIAD,EAAMO,UAAY,iCAMlBC,EAAY,WACVC,IAAAA,EAAO7B,SAASC,eAAe,wBACrC6B,EACGC,MAAMF,GACNV,KAAK,SAAUa,IACLA,EAAAA,EAAAA,SAAAA,EAAS,wBAEnBC,MAAM,SAAUC,OAMrBrB,EAAEb,UAAUmC,MAAM,WAChBzB,IACAhB,MAIFmB,EAAE,kBAAkBuB,MAAM,WACxB1C,MAGFmB,EAAE,kBAAkBuB,MAAM,WACxB1B,MAGFG,EAAE,iBAAiBuB,MAAM,WACvBR,MAGFf,EAAE,mBAAmBuB,MAAM,WACzBhC,EAAgB,WAGlBS,EAAE,mBAAmBuB,MAAM,WACzBhC,EAAgB","file":"scripts.93d57c41.js","sourceRoot":"..","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar WOFF = 'application/font-woff';\nvar JPEG = 'image/jpeg';\nvar mimes = {\n    woff: WOFF,\n    woff2: WOFF,\n    ttf: 'application/font-truetype',\n    eot: 'application/vnd.ms-fontobject',\n    png: 'image/png',\n    jpg: JPEG,\n    jpeg: JPEG,\n    gif: 'image/gif',\n    tiff: 'image/tiff',\n    svg: 'image/svg+xml',\n};\nexports.uuid = (function uuid() {\n    // generate uuid for className of pseudo elements.\n    // We should not use GUIDs, otherwise pseudo elements sometimes cannot be captured.\n    var counter = 0;\n    // ref: http://stackoverflow.com/a/6248722/2519373\n    var randomFourChars = function () {\n        return (\"0000\" + (Math.random() * (Math.pow(36, 4)) << 0).toString(36)).slice(-4);\n    };\n    return function () {\n        counter += 1;\n        return \"u\" + randomFourChars() + counter;\n    };\n}());\nfunction parseExtension(url) {\n    var match = /\\.([^./]*?)$/g.exec(url);\n    if (match)\n        return match[1];\n    return '';\n}\nexports.parseExtension = parseExtension;\nfunction getMimeType(url) {\n    var ext = parseExtension(url).toLowerCase();\n    return mimes[ext] || '';\n}\nexports.getMimeType = getMimeType;\nfunction delay(ms) {\n    return function (args) { return new Promise((function (resolve) {\n        setTimeout(function () {\n            resolve(args);\n        }, ms);\n    })); };\n}\nexports.delay = delay;\nfunction createImage(url) {\n    return new Promise((function (resolve, reject) {\n        var image = new Image();\n        image.onload = function () {\n            resolve(image);\n        };\n        image.onerror = reject;\n        image.crossOrigin = 'anonymous';\n        image.src = url;\n    }));\n}\nexports.createImage = createImage;\nfunction isDataUrl(url) {\n    return url.search(/^(data:)/) !== -1;\n}\nexports.isDataUrl = isDataUrl;\nfunction toDataURL(content, mimeType) {\n    return \"data:\" + mimeType + \";base64,\" + content;\n}\nexports.toDataURL = toDataURL;\nfunction getDataURLContent(dataURL) {\n    return dataURL.split(/,/)[1];\n}\nexports.getDataURLContent = getDataURLContent;\nfunction toBlob(canvas) {\n    return new Promise((function (resolve) {\n        var binaryString = window.atob(canvas.toDataURL().split(',')[1]);\n        var len = binaryString.length;\n        var binaryArray = new Uint8Array(len);\n        for (var i = 0; i < len; i += 1) {\n            binaryArray[i] = binaryString.charCodeAt(i);\n        }\n        resolve(new Blob([binaryArray], {\n            type: 'image/png',\n        }));\n    }));\n}\nfunction canvasToBlob(canvas) {\n    if (canvas.toBlob) {\n        return new Promise((function (resolve) {\n            canvas.toBlob(resolve);\n        }));\n    }\n    return toBlob(canvas);\n}\nexports.canvasToBlob = canvasToBlob;\nfunction toArray(arrayLike) {\n    var arr = [];\n    for (var i = 0, l = arrayLike.length; i < l; i += 1) {\n        arr.push(arrayLike[i]);\n    }\n    return arr;\n}\nexports.toArray = toArray;\nfunction px(node, styleProperty) {\n    var value = window.getComputedStyle(node).getPropertyValue(styleProperty);\n    return parseFloat(value.replace('px', ''));\n}\nfunction getNodeWidth(node) {\n    var leftBorder = px(node, 'border-left-width');\n    var rightBorder = px(node, 'border-right-width');\n    return node.scrollWidth + leftBorder + rightBorder;\n}\nexports.getNodeWidth = getNodeWidth;\nfunction getNodeHeight(node) {\n    var topBorder = px(node, 'border-top-width');\n    var bottomBorder = px(node, 'border-bottom-width');\n    return node.scrollHeight + topBorder + bottomBorder;\n}\nexports.getNodeHeight = getNodeHeight;\nfunction getPixelRatio() {\n    return (window.devicePixelRatio || 1);\n}\nexports.getPixelRatio = getPixelRatio;\nfunction svgToDataURL(svg) {\n    return Promise.resolve()\n        .then(function () { return new XMLSerializer().serializeToString(svg); })\n        .then(encodeURIComponent)\n        .then(function (html) { return \"data:image/svg+xml;charset=utf-8,\" + html; });\n}\nexports.svgToDataURL = svgToDataURL;\nfunction getBlobFromImageURL(url) {\n    return createImage(url).then(function (image) {\n        var width = image.width, height = image.height;\n        var canvas = document.createElement('canvas');\n        var context = canvas.getContext('2d');\n        var ratio = getPixelRatio();\n        canvas.width = width * ratio;\n        canvas.height = height * ratio;\n        canvas.style.width = \"\" + width;\n        canvas.style.height = \"\" + height;\n        context.scale(ratio, ratio);\n        context.drawImage(image, 0, 0);\n        var dataURL = canvas.toDataURL(getMimeType(url));\n        return getDataURLContent(dataURL);\n    });\n}\nexports.getBlobFromImageURL = getBlobFromImageURL;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar utils_1 = require(\"./utils\");\nfunction formatCssText(style) {\n    var content = style.getPropertyValue('content');\n    return style.cssText + \" content: \" + content + \";\";\n}\nfunction formatCssProperties(style) {\n    return utils_1.toArray(style).map(function (name) {\n        var value = style.getPropertyValue(name);\n        var priority = style.getPropertyPriority(name);\n        return name + \": \" + value + (priority ? ' !important' : '') + \";\";\n    }).join(' ');\n}\nfunction getPseudoElementStyle(className, pseudo, style) {\n    var selector = \".\" + className + \":\" + pseudo;\n    var cssText = style.cssText ? formatCssText(style) : formatCssProperties(style);\n    return document.createTextNode(selector + \"{\" + cssText + \"}\");\n}\nfunction clonePseudoElement(nativeNode, clonedNode, pseudo) {\n    var style = window.getComputedStyle(nativeNode, pseudo);\n    var content = style.getPropertyValue('content');\n    if (content === '' || content === 'none') {\n        return;\n    }\n    var className = utils_1.uuid();\n    var styleElement = document.createElement('style');\n    styleElement.appendChild(getPseudoElementStyle(className, pseudo, style));\n    clonedNode.className = clonedNode.className + \" \" + className;\n    clonedNode.appendChild(styleElement);\n}\nfunction clonePseudoElements(nativeNode, clonedNode) {\n    [\n        ':before',\n        ':after',\n    ].forEach(function (pseudo) { return clonePseudoElement(nativeNode, clonedNode, pseudo); });\n}\nexports.default = clonePseudoElements;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar utils_1 = require(\"./utils\");\nvar clonePseudoElements_1 = __importDefault(require(\"./clonePseudoElements\"));\nfunction cloneSingleNode(nativeNode) {\n    if (nativeNode instanceof HTMLCanvasElement) {\n        return utils_1.createImage(nativeNode.toDataURL());\n    }\n    if (nativeNode.tagName && nativeNode.tagName.toLowerCase() === 'svg') {\n        return Promise.resolve(nativeNode)\n            .then(function (svg) { return utils_1.svgToDataURL(svg); })\n            .then(utils_1.createImage);\n    }\n    return Promise.resolve(nativeNode.cloneNode(false));\n}\nfunction cloneChildren(nativeNode, clonedNode, filter) {\n    var children = utils_1.toArray(nativeNode.childNodes);\n    if (children.length === 0) {\n        return Promise.resolve(clonedNode);\n    }\n    // clone children in order\n    return children.reduce(function (done, child) { return done\n        .then(function () { return cloneNode(child, filter); })\n        .then(function (clonedChild) {\n        if (clonedChild) {\n            clonedNode.appendChild(clonedChild);\n        }\n    }); }, Promise.resolve())\n        .then(function () { return clonedNode; });\n}\nfunction cloneCssStyle(nativeNode, clonedNode) {\n    var source = window.getComputedStyle(nativeNode);\n    var target = clonedNode.style;\n    if (source.cssText) {\n        target.cssText = source.cssText;\n    }\n    else {\n        utils_1.toArray(source).forEach(function (name) {\n            target.setProperty(name, source.getPropertyValue(name), source.getPropertyPriority(name));\n        });\n    }\n}\nfunction cloneInputValue(nativeNode, clonedNode) {\n    if (nativeNode instanceof HTMLTextAreaElement) {\n        clonedNode.innerHTML = nativeNode.value;\n    }\n    if (nativeNode instanceof HTMLInputElement) {\n        clonedNode.setAttribute('value', nativeNode.value);\n    }\n}\nfunction decorate(nativeNode, clonedNode) {\n    if (!(clonedNode instanceof Element)) {\n        return clonedNode;\n    }\n    return Promise.resolve()\n        .then(function () { return cloneCssStyle(nativeNode, clonedNode); })\n        .then(function () { return clonePseudoElements_1.default(nativeNode, clonedNode); })\n        .then(function () { return cloneInputValue(nativeNode, clonedNode); })\n        .then(function () { return clonedNode; });\n}\nfunction cloneNode(domNode, filter, isRoot) {\n    if (!isRoot && filter && !filter(domNode)) {\n        return Promise.resolve(null);\n    }\n    return Promise.resolve(domNode)\n        .then(cloneSingleNode)\n        .then(function (clonedNode) { return cloneChildren(domNode, clonedNode, filter); })\n        .then(function (clonedNode) { return decorate(domNode, clonedNode); });\n}\nexports.default = cloneNode;\n","\"use strict\";\n/* tslint:disable:max-line-length */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar utils_1 = require(\"./utils\");\n// KNOWN ISSUE\n// -----------\n// Can not handle redirect-url, such as when access 'http://something.com/avatar.png'\n// will redirect to 'http://something.com/65fc2ffcc8aea7ba65a1d1feda173540'\nvar TIMEOUT = 30000;\nfunction getBlobFromURL(url, options) {\n    // cache bypass so we dont have CORS issues with cached images\n    // ref: https://developer.mozilla.org/en/docs/Web/API/XMLHttpRequest/Using_XMLHttpRequest#Bypassing_the_cache\n    if (options.cacheBust) {\n        url += ((/\\?/).test(url) ? '&' : '?') + (new Date()).getTime(); // tslint:disable-line\n    }\n    var failed = function (reason) {\n        var placeholder = '';\n        if (options.imagePlaceholder) {\n            var split = options.imagePlaceholder.split(/,/);\n            if (split && split[1]) {\n                placeholder = split[1];\n            }\n        }\n        var msg = \"Failed to fetch resource: \" + url;\n        if (reason) {\n            msg = typeof reason === 'string' ? reason : reason.message;\n        }\n        if (msg) {\n            console.error(msg);\n        }\n        return placeholder;\n    };\n    var deferred = window.fetch\n        // fetch\n        ? window.fetch(url)\n            .then(function (response) { return response.blob(); })\n            .then(function (blob) { return new Promise(function (resolve, reject) {\n            var reader = new FileReader();\n            reader.onloadend = function () { return resolve(reader.result); };\n            reader.onerror = reject;\n            reader.readAsDataURL(blob);\n        }); })\n            .then(utils_1.getDataURLContent)\n            .catch(function () { return new Promise(function (resolve, reject) {\n            reject();\n        }); })\n        // xhr\n        : new Promise((function (resolve, reject) {\n            var req = new XMLHttpRequest();\n            var timeout = function () {\n                reject(new Error(\"Timeout of \" + TIMEOUT + \"ms occured while fetching resource: \" + url));\n            };\n            var done = function () {\n                if (req.readyState !== 4) {\n                    return;\n                }\n                if (req.status !== 200) {\n                    reject(new Error(\"Failed to fetch resource: \" + url + \", status: \" + req.status));\n                    return;\n                }\n                var encoder = new FileReader();\n                encoder.onloadend = function () {\n                    resolve(utils_1.getDataURLContent(encoder.result));\n                };\n                encoder.readAsDataURL(req.response);\n            };\n            req.onreadystatechange = done;\n            req.ontimeout = timeout;\n            req.responseType = 'blob';\n            req.timeout = TIMEOUT;\n            req.open('GET', url, true);\n            req.send();\n        }));\n    return deferred.catch(failed);\n}\nexports.default = getBlobFromURL;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar getBlobFromURL_1 = __importDefault(require(\"./getBlobFromURL\"));\nvar utils_1 = require(\"./utils\");\nvar URL_REGEX = /url\\((['\"]?)([^'\"]+?)\\1\\)/g;\nfunction resolveUrl(url, baseUrl) {\n    // url is absolute already\n    if (url.match(/^[a-z]+:\\/\\//i)) {\n        return url;\n    }\n    // url is absolute already, without protocol\n    if (url.match(/^\\/\\//)) {\n        return window.location.protocol + url;\n    }\n    // dataURI, mailto:, tel:, etc.\n    if (url.match(/^[a-z]+:/i)) {\n        return url;\n    }\n    var doc = document.implementation.createHTMLDocument();\n    var base = doc.createElement('base');\n    var a = doc.createElement('a');\n    doc.head.appendChild(base);\n    doc.body.appendChild(a);\n    if (baseUrl) {\n        base.href = baseUrl;\n    }\n    a.href = url;\n    return a.href;\n}\nfunction escape(url) {\n    return url.replace(/([.*+?^${}()|\\[\\]\\/\\\\])/g, '\\\\$1');\n}\nfunction urlToRegex(url) {\n    return new RegExp(\"(url\\\\(['\\\"]?)(\" + escape(url) + \")(['\\\"]?\\\\))\", 'g');\n}\nfunction parseURLs(str) {\n    var result = [];\n    str.replace(URL_REGEX, function (raw, quotation, url) {\n        result.push(url);\n        return raw;\n    });\n    return result.filter(function (url) { return !utils_1.isDataUrl(url); });\n}\nfunction embed(cssString, resourceURL, baseURL, options) {\n    var resolvedURL = baseURL ? resolveUrl(resourceURL, baseURL) : resourceURL;\n    return Promise.resolve(resolvedURL)\n        .then(function (url) { return getBlobFromURL_1.default(url, options); })\n        .then(function (data) { return utils_1.toDataURL(data, utils_1.getMimeType(resourceURL)); })\n        .then(function (dataURL) { return cssString.replace(urlToRegex(resourceURL), \"$1\" + dataURL + \"$3\"); })\n        .then(function (content) { return content; }, function () { return resolvedURL; });\n}\nfunction shouldEmbed(string) {\n    return string.search(URL_REGEX) !== -1;\n}\nexports.shouldEmbed = shouldEmbed;\nfunction embedResources(cssString, baseUrl, options) {\n    if (!shouldEmbed(cssString)) {\n        return Promise.resolve(cssString);\n    }\n    return Promise.resolve(cssString)\n        .then(parseURLs)\n        .then(function (urls) { return urls.reduce(function (done, url) { return done.then(function (ret) { return embed(ret, url, baseUrl, options); }); }, Promise.resolve(cssString)); });\n}\nexports.default = embedResources;\n","\"use strict\";\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar utils_1 = require(\"./utils\");\nvar embedResources_1 = __importStar(require(\"./embedResources\"));\nfunction parseCSS(source) {\n    if (source === undefined) {\n        return [];\n    }\n    var cssText = source;\n    var css = [];\n    var cssKeyframeRegex = '((@.*?keyframes [\\\\s\\\\S]*?){([\\\\s\\\\S]*?}\\\\s*?)})';\n    var combinedCSSRegex = '((\\\\s*?(?:\\\\/\\\\*[\\\\s\\\\S]*?\\\\*\\\\/)?\\\\s*?@media[\\\\s\\\\S]'\n        + '*?){([\\\\s\\\\S]*?)}\\\\s*?})|(([\\\\s\\\\S]*?){([\\\\s\\\\S]*?)})'; // to match css & media queries together\n    var cssCommentsRegex = new RegExp('(\\\\/\\\\*[\\\\s\\\\S]*?\\\\*\\\\/)', 'gi');\n    // strip out comments\n    cssText = cssText.replace(cssCommentsRegex, '');\n    var keyframesRegex = new RegExp(cssKeyframeRegex, 'gi');\n    var arr;\n    while (true) {\n        arr = keyframesRegex.exec(cssText);\n        if (arr === null) {\n            break;\n        }\n        css.push(arr[0]);\n    }\n    cssText = cssText.replace(keyframesRegex, '');\n    // unified regex\n    var unified = new RegExp(combinedCSSRegex, 'gi');\n    while (true) {\n        arr = unified.exec(cssText);\n        if (arr === null) {\n            break;\n        }\n        css.push(arr[0]);\n    }\n    return css;\n}\nfunction fetchCSS(url, sheet) {\n    return fetch(url).then(function (res) {\n        return {\n            url: url,\n            cssText: res.text(),\n        };\n    }, function (e) {\n        console.log('ERROR FETCHING CSS: ', e.toString());\n    });\n}\nfunction embedFonts(data) {\n    return data.cssText.then(function (resolved) {\n        var cssText = resolved;\n        var fontLocations = cssText.match(/url\\([^)]+\\)/g) || [];\n        var fontLoadedPromises = fontLocations.map(function (location) {\n            var url = location.replace(/url\\(([^]+)\\)/g, '$1');\n            if (!url.startsWith('https://')) {\n                var source = data.url;\n                url = new URL(url, source).href;\n            }\n            return new Promise(function (resolve, reject) {\n                fetch(url)\n                    .then(function (res) { return res.blob(); })\n                    .then(function (blob) {\n                    var reader = new FileReader();\n                    reader.addEventListener('load', function (res) {\n                        // Side Effect\n                        cssText = cssText.replace(location, \"url(\" + reader.result + \")\");\n                        resolve([location, reader.result]);\n                    });\n                    reader.readAsDataURL(blob);\n                })\n                    .catch(reject);\n            });\n        });\n        return Promise.all(fontLoadedPromises).then(function () { return cssText; });\n    });\n}\nfunction getCssRules(styleSheets) {\n    var ret = [];\n    var promises = [];\n    // First loop inlines imports\n    styleSheets.forEach(function (sheet) {\n        if ('cssRules' in sheet) {\n            try {\n                utils_1.toArray(sheet.cssRules).forEach(function (item) {\n                    if (item.type === CSSRule.IMPORT_RULE) {\n                        promises.push(fetchCSS(item.href, sheet)\n                            .then(embedFonts)\n                            .then(function (cssText) {\n                            var parsed = parseCSS(cssText);\n                            parsed.forEach(function (rule) {\n                                sheet.insertRule(rule, sheet.cssRules.length);\n                            });\n                        })\n                            .catch(function (e) {\n                            console.log('Error loading remote css', e.toString());\n                        }));\n                    }\n                });\n            }\n            catch (e) {\n                var inline_1 = styleSheets.find(function (a) { return a.href === null; }) || document.styleSheets[0];\n                if (sheet.href != null) {\n                    promises.push(fetchCSS(sheet.href, inline_1)\n                        .then(embedFonts)\n                        .then(function (cssText) {\n                        var parsed = parseCSS(cssText);\n                        parsed.forEach(function (rule) {\n                            inline_1.insertRule(rule, sheet.cssRules.length);\n                        });\n                    })\n                        .catch(function (e) {\n                        console.log('Error loading remote stylesheet', e.toString());\n                    }));\n                }\n                console.log('Error inlining remote css file', e.toString());\n            }\n        }\n    });\n    return Promise\n        .all(promises)\n        .then(function () {\n        // Second loop parses rules\n        styleSheets.forEach(function (sheet) {\n            if ('cssRules' in sheet) {\n                try {\n                    utils_1.toArray(sheet.cssRules).forEach(function (item) {\n                        ret.push(item);\n                    });\n                }\n                catch (e) {\n                    console.log(\"Error while reading CSS rules from \" + sheet.href, e.toString());\n                }\n            }\n        });\n        return ret;\n    });\n}\nfunction getWebFontRules(cssRules) {\n    return cssRules\n        .filter(function (rule) { return rule.type === CSSRule.FONT_FACE_RULE; })\n        .filter(function (rule) { return embedResources_1.shouldEmbed(rule.style.getPropertyValue('src')); });\n}\nfunction parseWebFontRules(clonedNode) {\n    return new Promise(function (resolve, reject) {\n        if (!clonedNode.ownerDocument) {\n            reject(new Error('Provided element is not within a Document'));\n        }\n        resolve(utils_1.toArray(clonedNode.ownerDocument.styleSheets));\n    })\n        .then(getCssRules)\n        .then(getWebFontRules);\n}\nexports.parseWebFontRules = parseWebFontRules;\nfunction embedWebFonts(clonedNode, options) {\n    return parseWebFontRules(clonedNode)\n        .then(function (rules) { return Promise.all(rules.map(function (rule) {\n        var baseUrl = rule.parentStyleSheet ? rule.parentStyleSheet.href : null;\n        return embedResources_1.default(rule.cssText, baseUrl, options);\n    })); })\n        .then(function (cssStrings) { return cssStrings.join('\\n'); })\n        .then(function (cssString) {\n        var styleNode = document.createElement('style');\n        var sytleContent = document.createTextNode(cssString);\n        styleNode.appendChild(sytleContent);\n        if (clonedNode.firstChild) {\n            clonedNode.insertBefore(styleNode, clonedNode.firstChild);\n        }\n        else {\n            clonedNode.appendChild(styleNode);\n        }\n        return clonedNode;\n    });\n}\nexports.default = embedWebFonts;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar utils_1 = require(\"./utils\");\nvar getBlobFromURL_1 = __importDefault(require(\"./getBlobFromURL\"));\nvar embedResources_1 = __importDefault(require(\"./embedResources\"));\nfunction embedBackground(clonedNode, options) {\n    var background = clonedNode.style.getPropertyValue('background');\n    if (!background) {\n        return Promise.resolve(clonedNode);\n    }\n    return Promise.resolve(background)\n        .then(function (cssString) { return embedResources_1.default(cssString, null, options); })\n        .then(function (cssString) {\n        clonedNode.style.setProperty('background', cssString, clonedNode.style.getPropertyPriority('background'));\n        return clonedNode;\n    });\n}\nfunction embedImageNode(clonedNode, options) {\n    if (!(clonedNode instanceof HTMLImageElement) || utils_1.isDataUrl(clonedNode.src)) {\n        return Promise.resolve(clonedNode);\n    }\n    return Promise.resolve(clonedNode.src)\n        .then(function (url) { return getBlobFromURL_1.default(url, options); })\n        .then(function (data) { return utils_1.toDataURL(data, utils_1.getMimeType(clonedNode.src)); })\n        .then(function (dataURL) { return new Promise((function (resolve, reject) {\n        clonedNode.onload = resolve;\n        clonedNode.onerror = reject;\n        clonedNode.src = dataURL;\n    })); })\n        .then(function () { return clonedNode; }, function () { return clonedNode; });\n}\nfunction embedChildren(clonedNode, options) {\n    var children = utils_1.toArray(clonedNode.childNodes);\n    var deferreds = children.map(function (child) { return embedImages(child, options); });\n    return Promise.all(deferreds).then(function () { return clonedNode; });\n}\nfunction embedImages(clonedNode, options) {\n    if (!(clonedNode instanceof Element)) {\n        return Promise.resolve(clonedNode);\n    }\n    return Promise.resolve(clonedNode)\n        .then(function (node) { return embedBackground(node, options); })\n        .then(function (node) { return embedImageNode(node, options); })\n        .then(function (node) { return embedChildren(node, options); });\n}\nexports.default = embedImages;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar utils_1 = require(\"./utils\");\nfunction createSvgDataURL(clonedNode, width, height) {\n    var xmlns = 'http://www.w3.org/2000/svg';\n    var svg = document.createElementNS(xmlns, 'svg');\n    var foreignObject = document.createElementNS(xmlns, 'foreignObject');\n    svg.setAttributeNS('', 'width', \"\" + width);\n    svg.setAttributeNS('', 'height', \"\" + height);\n    foreignObject.setAttributeNS('', 'width', '100%');\n    foreignObject.setAttributeNS('', 'height', '100%');\n    foreignObject.setAttributeNS('', 'x', '0');\n    foreignObject.setAttributeNS('', 'y', '0');\n    foreignObject.setAttributeNS('', 'externalResourcesRequired', 'true');\n    svg.appendChild(foreignObject);\n    foreignObject.appendChild(clonedNode);\n    return utils_1.svgToDataURL(svg);\n}\nexports.default = createSvgDataURL;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction applyStyleWithOptions(clonedNode, options) {\n    var style = clonedNode.style;\n    if (options.backgroundColor) {\n        style.backgroundColor = options.backgroundColor;\n    }\n    if (options.width) {\n        style.width = options.width + \"px\";\n    }\n    if (options.height) {\n        style.height = options.height + \"px\";\n    }\n    if (options.style) {\n        Object.assign(style, options.style);\n    }\n    return clonedNode;\n}\nexports.default = applyStyleWithOptions;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar cloneNode_1 = __importDefault(require(\"./cloneNode\"));\nvar embedWebFonts_1 = __importDefault(require(\"./embedWebFonts\"));\nvar embedImages_1 = __importDefault(require(\"./embedImages\"));\nvar createSvgDataURL_1 = __importDefault(require(\"./createSvgDataURL\"));\nvar applyStyleWithOptions_1 = __importDefault(require(\"./applyStyleWithOptions\"));\nvar utils_1 = require(\"./utils\");\nfunction getImageSize(domNode, options) {\n    if (options === void 0) { options = {}; }\n    var width = options.width || utils_1.getNodeWidth(domNode);\n    var height = options.height || utils_1.getNodeHeight(domNode);\n    return { width: width, height: height };\n}\nfunction toSvgDataURL(domNode, options) {\n    if (options === void 0) { options = {}; }\n    var _a = getImageSize(domNode, options), width = _a.width, height = _a.height;\n    return cloneNode_1.default(domNode, options.filter, true)\n        .then(function (clonedNode) { return embedWebFonts_1.default(clonedNode, options); })\n        .then(function (clonedNode) { return embedImages_1.default(clonedNode, options); })\n        .then(function (clonedNode) { return applyStyleWithOptions_1.default(clonedNode, options); })\n        .then(function (clonedNode) { return createSvgDataURL_1.default(clonedNode, width, height); });\n}\nexports.toSvgDataURL = toSvgDataURL;\nfunction toCanvas(domNode, options) {\n    if (options === void 0) { options = {}; }\n    return toSvgDataURL(domNode, options)\n        .then(utils_1.createImage)\n        .then(utils_1.delay(100))\n        .then(function (image) {\n        var canvas = document.createElement('canvas');\n        var context = canvas.getContext('2d');\n        var ratio = utils_1.getPixelRatio();\n        var _a = getImageSize(domNode, options), width = _a.width, height = _a.height;\n        canvas.width = width * ratio;\n        canvas.height = height * ratio;\n        canvas.style.width = \"\" + width;\n        canvas.style.height = \"\" + height;\n        context.scale(ratio, ratio);\n        if (options.backgroundColor) {\n            context.fillStyle = options.backgroundColor;\n            context.fillRect(0, 0, canvas.width, canvas.height);\n        }\n        context.drawImage(image, 0, 0);\n        return canvas;\n    });\n}\nexports.toCanvas = toCanvas;\nfunction toPixelData(domNode, options) {\n    if (options === void 0) { options = {}; }\n    var _a = getImageSize(domNode, options), width = _a.width, height = _a.height;\n    return toCanvas(domNode, options)\n        .then(function (canvas) { return (canvas.getContext('2d').getImageData(0, 0, width, height).data); });\n}\nexports.toPixelData = toPixelData;\nfunction toPng(domNode, options) {\n    if (options === void 0) { options = {}; }\n    return toCanvas(domNode, options).then(function (canvas) { return (canvas.toDataURL()); });\n}\nexports.toPng = toPng;\nfunction toJpeg(domNode, options) {\n    if (options === void 0) { options = {}; }\n    return toCanvas(domNode, options).then(function (canvas) { return (canvas.toDataURL('image/jpeg', options.quality || 1)); });\n}\nexports.toJpeg = toJpeg;\nfunction toBlob(domNode, options) {\n    if (options === void 0) { options = {}; }\n    return toCanvas(domNode, options).then(utils_1.canvasToBlob);\n}\nexports.toBlob = toBlob;\nexports.default = {\n    toSvgDataURL: toSvgDataURL,\n    toCanvas: toCanvas,\n    toPixelData: toPixelData,\n    toPng: toPng,\n    toJpeg: toJpeg,\n    toBlob: toBlob,\n};\n","//download.js v4.2, by dandavis; 2008-2016. [MIT] see http://danml.com/download.html for tests/usage\n// v1 landed a FF+Chrome compat way of downloading strings to local un-named files, upgraded to use a hidden frame and optional mime\n// v2 added named files via a[download], msSaveBlob, IE (10+) support, and window.URL support for larger+faster saves than dataURLs\n// v3 added dataURL and Blob Input, bind-toggle arity, and legacy dataURL fallback was improved with force-download mime and base64 support. 3.1 improved safari handling.\n// v4 adds AMD/UMD, commonJS, and plain browser support\n// v4.1 adds url download capability via solo URL argument (same domain/CORS only)\n// v4.2 adds semantic variable names, long (over 2MB) dataURL support, and hidden by default temp anchors\n// https://github.com/rndme/download\n\n(function (root, factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine([], factory);\n\t} else if (typeof exports === 'object') {\n\t\t// Node. Does not work with strict CommonJS, but\n\t\t// only CommonJS-like environments that support module.exports,\n\t\t// like Node.\n\t\tmodule.exports = factory();\n\t} else {\n\t\t// Browser globals (root is window)\n\t\troot.download = factory();\n  }\n}(this, function () {\n\n\treturn function download(data, strFileName, strMimeType) {\n\n\t\tvar self = window, // this script is only for browsers anyway...\n\t\t\tdefaultMime = \"application/octet-stream\", // this default mime also triggers iframe downloads\n\t\t\tmimeType = strMimeType || defaultMime,\n\t\t\tpayload = data,\n\t\t\turl = !strFileName && !strMimeType && payload,\n\t\t\tanchor = document.createElement(\"a\"),\n\t\t\ttoString = function(a){return String(a);},\n\t\t\tmyBlob = (self.Blob || self.MozBlob || self.WebKitBlob || toString),\n\t\t\tfileName = strFileName || \"download\",\n\t\t\tblob,\n\t\t\treader;\n\t\t\tmyBlob= myBlob.call ? myBlob.bind(self) : Blob ;\n\t  \n\t\tif(String(this)===\"true\"){ //reverse arguments, allowing download.bind(true, \"text/xml\", \"export.xml\") to act as a callback\n\t\t\tpayload=[payload, mimeType];\n\t\t\tmimeType=payload[0];\n\t\t\tpayload=payload[1];\n\t\t}\n\n\n\t\tif(url && url.length< 2048){ // if no filename and no mime, assume a url was passed as the only argument\n\t\t\tfileName = url.split(\"/\").pop().split(\"?\")[0];\n\t\t\tanchor.href = url; // assign href prop to temp anchor\n\t\t  \tif(anchor.href.indexOf(url) !== -1){ // if the browser determines that it's a potentially valid url path:\n        \t\tvar ajax=new XMLHttpRequest();\n        \t\tajax.open( \"GET\", url, true);\n        \t\tajax.responseType = 'blob';\n        \t\tajax.onload= function(e){ \n\t\t\t\t  download(e.target.response, fileName, defaultMime);\n\t\t\t\t};\n        \t\tsetTimeout(function(){ ajax.send();}, 0); // allows setting custom ajax headers using the return:\n\t\t\t    return ajax;\n\t\t\t} // end if valid url?\n\t\t} // end if url?\n\n\n\t\t//go ahead and download dataURLs right away\n\t\tif(/^data:([\\w+-]+\\/[\\w+.-]+)?[,;]/.test(payload)){\n\t\t\n\t\t\tif(payload.length > (1024*1024*1.999) && myBlob !== toString ){\n\t\t\t\tpayload=dataUrlToBlob(payload);\n\t\t\t\tmimeType=payload.type || defaultMime;\n\t\t\t}else{\t\t\t\n\t\t\t\treturn navigator.msSaveBlob ?  // IE10 can't do a[download], only Blobs:\n\t\t\t\t\tnavigator.msSaveBlob(dataUrlToBlob(payload), fileName) :\n\t\t\t\t\tsaver(payload) ; // everyone else can save dataURLs un-processed\n\t\t\t}\n\t\t\t\n\t\t}else{//not data url, is it a string with special needs?\n\t\t\tif(/([\\x80-\\xff])/.test(payload)){\t\t\t  \n\t\t\t\tvar i=0, tempUiArr= new Uint8Array(payload.length), mx=tempUiArr.length;\n\t\t\t\tfor(i;i<mx;++i) tempUiArr[i]= payload.charCodeAt(i);\n\t\t\t \tpayload=new myBlob([tempUiArr], {type: mimeType});\n\t\t\t}\t\t  \n\t\t}\n\t\tblob = payload instanceof myBlob ?\n\t\t\tpayload :\n\t\t\tnew myBlob([payload], {type: mimeType}) ;\n\n\n\t\tfunction dataUrlToBlob(strUrl) {\n\t\t\tvar parts= strUrl.split(/[:;,]/),\n\t\t\ttype= parts[1],\n\t\t\tdecoder= parts[2] == \"base64\" ? atob : decodeURIComponent,\n\t\t\tbinData= decoder( parts.pop() ),\n\t\t\tmx= binData.length,\n\t\t\ti= 0,\n\t\t\tuiArr= new Uint8Array(mx);\n\n\t\t\tfor(i;i<mx;++i) uiArr[i]= binData.charCodeAt(i);\n\n\t\t\treturn new myBlob([uiArr], {type: type});\n\t\t }\n\n\t\tfunction saver(url, winMode){\n\n\t\t\tif ('download' in anchor) { //html5 A[download]\n\t\t\t\tanchor.href = url;\n\t\t\t\tanchor.setAttribute(\"download\", fileName);\n\t\t\t\tanchor.className = \"download-js-link\";\n\t\t\t\tanchor.innerHTML = \"downloading...\";\n\t\t\t\tanchor.style.display = \"none\";\n\t\t\t\tdocument.body.appendChild(anchor);\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tanchor.click();\n\t\t\t\t\tdocument.body.removeChild(anchor);\n\t\t\t\t\tif(winMode===true){setTimeout(function(){ self.URL.revokeObjectURL(anchor.href);}, 250 );}\n\t\t\t\t}, 66);\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// handle non-a[download] safari as best we can:\n\t\t\tif(/(Version)\\/(\\d+)\\.(\\d+)(?:\\.(\\d+))?.*Safari\\//.test(navigator.userAgent)) {\n\t\t\t\tif(/^data:/.test(url))\turl=\"data:\"+url.replace(/^data:([\\w\\/\\-\\+]+)/, defaultMime);\n\t\t\t\tif(!window.open(url)){ // popup blocked, offer direct download:\n\t\t\t\t\tif(confirm(\"Displaying New Document\\n\\nUse Save As... to download, then click back to return to this page.\")){ location.href=url; }\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t//do iframe dataURL download (old ch+FF):\n\t\t\tvar f = document.createElement(\"iframe\");\n\t\t\tdocument.body.appendChild(f);\n\n\t\t\tif(!winMode && /^data:/.test(url)){ // force a mime that will download:\n\t\t\t\turl=\"data:\"+url.replace(/^data:([\\w\\/\\-\\+]+)/, defaultMime);\n\t\t\t}\n\t\t\tf.src=url;\n\t\t\tsetTimeout(function(){ document.body.removeChild(f); }, 333);\n\n\t\t}//end saver\n\n\n\n\n\t\tif (navigator.msSaveBlob) { // IE10+ : (has Blob, but not a[download] or URL)\n\t\t\treturn navigator.msSaveBlob(blob, fileName);\n\t\t}\n\n\t\tif(self.URL){ // simple fast and modern way using Blob and URL:\n\t\t\tsaver(self.URL.createObjectURL(blob), true);\n\t\t}else{\n\t\t\t// handle non-Blob()+non-URL browsers:\n\t\t\tif(typeof blob === \"string\" || blob.constructor===toString ){\n\t\t\t\ttry{\n\t\t\t\t\treturn saver( \"data:\" +  mimeType   + \";base64,\"  +  self.btoa(blob)  );\n\t\t\t\t}catch(y){\n\t\t\t\t\treturn saver( \"data:\" +  mimeType   + \",\" + encodeURIComponent(blob)  );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Blob but not URL support:\n\t\t\treader=new FileReader();\n\t\t\treader.onload=function(e){\n\t\t\t\tsaver(this.result);\n\t\t\t};\n\t\t\treader.readAsDataURL(blob);\n\t\t}\n\t\treturn true;\n\t}; /* end download() */\n}));\n","import * as htmlToImage from \"html-to-image\";\nimport download from \"downloadjs\";\nconst getBgImage = () => {\n  //The number is number of images\n  var randomNum = Math.floor(Math.random() * 24);\n\n  const bgElement = document.getElementById(\"image-container\");\n  bgElement.style.backgroundImage = \"\";\n\n  bgElement.style.backgroundImage = `linear-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.3)),url('bg-image-library/${randomNum}.jpg')`;\n};\n\nconst toggleTextColor = (buttonPressed) => {\n  const quoteText = document.getElementById(\"quote-text\");\n  if (buttonPressed === \"white\") {\n    quoteText.classList.add(\"white-quote\");\n    quoteText.classList.remove(\"black-quote\");\n    quoteText.classList.remove(\"teal-quote\");\n  } else if (buttonPressed === \"black\") {\n    quoteText.classList.add(\"black-quote\");\n    quoteText.classList.remove(\"white-quote\");\n    quoteText.classList.remove(\"teal-quote\");\n  } else {\n    quoteText.classList.add(\"teal-quote\");\n    quoteText.classList.remove(\"white-quote\");\n    quoteText.classList.remove(\"black-quote\");\n  }\n};\n\nconst loadVerse = () => {\n  const url = \"https://labs.bible.org/api/?passage=random&type=json\";\n  var apiResult;\n  $.ajax({\n    url:\n      \"https://labs.bible.org/api/?passage=random&type=json&callback=myCallback\",\n    crossDomain: true,\n    dataType: \"jsonp\",\n    success: function (result) {\n      apiResult = result[0];\n    },\n  }).then(() => {\n    const quote = document.getElementById(\"quote-text\");\n\n    //We need to remove the link from the end of the netbible link\n    const link =\n      '<a style=\"\" target=\"_blank\" href=\"http://netbible.com/net-bible-preface\">&copy;NET</a>';\n    const verse = apiResult.text.replace(link, \"\");\n    if (apiResult) {\n      quote.innerHTML =\n        `\"${verse}\"` +\n        `<span id=\"quote-source\"><br />${apiResult.bookname} ${apiResult.chapter}:${apiResult.verse}</span>`;\n    } else {\n      quote.innerText = \"Sorry, something went wrong\";\n    }\n  });\n};\n\n//Code to save\nconst saveImage = () => {\n  const node = document.getElementById(\"image-area-container\");\n  htmlToImage\n    .toPng(node)\n    .then(function (dataUrl) {\n      download(dataUrl, \"my-bible-verse.png\");\n    })\n    .catch(function (error) {\n      // console.error(\"oops, something went wrong!\", error);\n    });\n};\n\n//Generate when we load\n$(document).ready(() => {\n  loadVerse();\n  getBgImage();\n});\n\n//event listeners\n$(\"#new-image-btn\").click(() => {\n  getBgImage();\n});\n\n$(\"#new-verse-btn\").click(() => {\n  loadVerse();\n});\n\n$(\"#save-img-btn\").click(() => {\n  saveImage();\n});\n\n$(\"#black-text-btn\").click(() => {\n  toggleTextColor(\"black\");\n});\n\n$(\"#white-text-btn\").click(() => {\n  toggleTextColor(\"white\");\n});\n"]}